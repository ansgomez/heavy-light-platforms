Optimizing an embedded system's energy and performance have been goals pursued by designers for decades. Generally speaking, there are two types of knobs designers can adjust to minimize energy: 1) Dynamic Voltage and Frequency Scaling, and 2) Dynamic Power Management. In the first, a core's voltage and frequency can be reduced to lower its power consumption and speed. In the second, cores are given different states, i.e. active and idle, which reduce the core's average power consumption. Task allocation and scheduling for minimizing energy using these knobs can be formulated as optimization problems. Unfortunately, most of these problems are known to be NP-complete/hard. Consequently, many heuristics, some with optimality bounds, have been proposed to estimate optimal solutions.

%In the seminal work of \cite{YDS}, the authors propose an optimal offline algorithm, along with other optimally-bounded heuristics that minimize the energy consumption of a real-time task-set on a uniprocessor system with speed scaling. 
%In \cite{Aydin2001}, the authors propose a static solution and several heuristics to the energy minimization problem. Similarly, the authors of \cite{Chen2007} energy and allocation cost minimization for periodic real-time tasks using dynamic voltage scaling. 
In \cite{YDS, Aydin2001, Chen2007}, the authors propose optimal energy minimization algorithms along with bounded heuristics under real-time task constraints. The proposed solutions use speed scaling and are restricted to uni-core platforms. In heterogeneous MPSoCs, complex scheduling and load balancing mechanisms have been proposed \cite{Sarma2015}. For big.LITTLE architectures, other works \cite{Kim2014} have studied utilization-aware load balancing techniques and reported energy savings of 11.35\% compared to the standard Linux schedulers. 

%The works presented in \cite{Paterna, Paterna2} propose workload allocation heuristics to minimize the energy of a real time application. The targeted architecture, a variability-tolerant MPSoC, consists of a host which dispatches and allocates task to a NOC based accelerator. Here, minimizing the application's energy reduces to only the core energy, which can done with only mapping at fixed voltage and frequency. In microcontroller platforms, however, it is commonly the case that on-chip peripherals consume non-negligible power.

In \cite{Paterna}, the authors propose workload allocation heuristics to minimize the energy of a real time application. The authors use a combination of optimization formulations and heuristics to find efficient solutions. In \cite{Raghavan2012}, the authors propose a race-to-idle scheme, where the system is placed in \textit{sprint}/high performance mode when it has tasks to execute. The system is placed in \textit{sleep} mode when the tasks finish execution. The authors show that the proposed scheme can give significant energy and performance improvements under certain platform configuration and application scenarios. In \cite{Salehi2015}, a hardware platform for evaluating DVFS at the microcontroller level is presented. While it is shown that a MCU reduces its energy at lower voltages, this is achieved by using costly and inefficient external LDO regulators. 

%In this work, we propose a task allocation scheme for Heavy-Light platforms, which consist of two cores with homogeneous microarchitecture but heterogeneous power and frequencies. We prove this scheme to minimize both an application's makespan and energy consumption, if the application exhibits sufficient task-level parallelism. 

%All of these works either rely on DVFS, or require advanced software/hardware support. Both of these aspects are not available in Heavy-Light platforms; which is why these schemes cannot be applied directly.  

When executing a set of parallelizable instructions in a given microarchitecture, voltage and frequency, multi-core platforms always consume more power than a single-core. We will show that our energy minimization schemes, the single-microarchitecture Heavy-Light platform can achieve significant energy savings with respect to a single-core without commonly used techniques such as fine-grained DVFS. 
%This work presents a novel task allocation scheme that optimizes the application's energy and makespan on Heavy-Light platforms. 
First we present a simplified task model and partitioning scheme which reduces energy and makespan minimization to a mapping problem. Depending on the task-set's available parallelism, our proposed allocation policy is proven to be optimal for both objectives.
%Energy is minimized without DVFS, since it is prohibitively costly in Heavy-Light platforms. 
Our minimization accounts not just for the energy consumed by the cores, but also by on-chip peripherals, which can be a substantial portion of the power budget in low-cost microcontroller systems.